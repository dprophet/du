```
{
  "slots": {
    "0": {
      "name": "slot1",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "1": {
      "name": "slot2",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "2": {
      "name": "slot3",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "3": {
      "name": "slot4",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "4": {
      "name": "slot5",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "5": {
      "name": "slot6",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "6": {
      "name": "slot7",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "7": {
      "name": "slot8",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "8": {
      "name": "slot9",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "9": {
      "name": "slot10",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "-1": {
      "name": "unit",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "-2": {
      "name": "system",
      "type": {
        "events": [],
        "methods": []
      }
    },
    "-3": {
      "name": "library",
      "type": {
        "events": [],
        "methods": []
      }
    }
  },
  "handlers": [
    {
      "code": "overrideDatabank = true --export: when set then parameters in this screen will override parameters in the databank\nclearDatabank = false --export: when set then parameters in the databank will be erased\nenableRefinerMonitoring = true --export: enable or disable monitoring of refiners\nenableAssemblyMonitoring = true --export: enable or disable monitoring of assembly lines\nenableSmelterMonitoring = true --export: enable or disable monitoring of smelters\nenableChemicalMonitoring = true --export: enable or disable monitoring of chemical industries\nenableElectronicsMonitoring = true --export: enable or disable monitoring of electronics industries\nenableGlassMonitoring = true --export: enable or disable monitoring of glass furnaces\nenableHoneycombMonitoring = true --export: enable or disable monitoring of honeycomb refineries\nenableRecyclerMonitoring = true --export: enable or disable monitoring of recyclers\nenableMetalworkMonitoring = true --export: enable or disable monitoring of metalwork industries\nenable3DPrinterMonitoring = true --export: enable or disable monitoring of 3D Printers\nenableTransferMonitoring = true --export: enable or disable monitoring of transfer units\nenableMissingSchematic = true --export: enable monitoring of machines without schematics\nenableSorting = true --export: enable sorting of the industry units. Sort is first by status then by schematic.\ndisplayRunning = true --export: enable or disable displaying machines in the running state\ndisplayPending = false --export: enable or disable displaying machines in the pending state\ndisplayStopped = true --export: enable or disable displaying machines in the stopped state\ndisplayErrored = true --export: enable or disable displaying machines in an error state\ndeactivateScreens = true --export: enable or disable deactivating the screens on script shutdown\nscreenRefreshRate = 0 --export: how often the screens refresh in seconds\nindustryRefreshRate = 5 --export: how often the core is queried for industry elements in seconds\nmainScreenSlotName = \"slot2\" --export: name of the slot to use for the main screen\nsummaryScreenSlotName = \"slot5\" --export: name of the slot to use for the summary screen\ndatabankSlotName = \"slot3\" --export: name of the slot to use for the databank\nshowId = true --export: display the industrial unit id\nshowName = false --export: display the industrial unit name\nshowType = true --export: display the industrial unit type\nshowSchematic = true --export: display the currently loaded schematic\nshowLevels = true --export: display requested or maintain levels when a machine is running\nshowStopping = true -- export: display whether a stop has been requested for this machine\nlandscapeMode = true --export: screen is mounted in landscape orientation\nheaderColor = \"gray\" --export: color to use for headers\nwarningColor = \"yellow\" --export: color to use for warning messages\nbuttonText = \"white\" --export: color to use for button backgrounds\nbuttonColor = \"gray\" --export: color to use for button backgrounds\nerrorColor = \"red\" --export: color to use for machines in an error state\nstoppedColor = \"yellow\" --export: color to use for machines in the stopped state\npendingColor = \"green\" --export: color to use for machines in the pending state\nrunningColor = \"green\" --export: color to use for machines in the running state\nbackgroundColor = \"black\" --export: color to use for the background\nborderColor = \"gray\" --export: color to use for borders\n\n-- In the future I will be adding:\n-- Allowing for multiple screens (maybe)\t\n-- Aorting (currently sorts by status then schematic)\n-- Filtering by clicking on screen buttons (maybe)\n\ncore = false\nmainScreen = false\nsummaryScreen = false\ndatabank = false\nscreens = {}\ndatabanks = {}\nelements = {}\nwarnings = {}\ntotals = {}\nmainScreenRow = 0\nsummaryScreenRow = 0\nmouseState = 0\nmouseClicked = false\nversion = \"1.3\"\n\ntypes = {\n\t[\"assembly line\"] = enableAssemblyMonitoring,\n\t[\"glass furnace\"] = enableGlassMonitoring,\n\t[\"3d printer\"] = enable3DPrinterMonitoring,\n\t[\"smelter\"] = enableSmelterMonitoring,\n\t[\"recycler\"] = enableRecyclerMonitoring,\n\t[\"refinery\"] = enableHoneycombMonitoring,\n\t[\"refiner\"] = enableRefinerMonitoring,\n\t[\"transfer unit\"] = enableTransferMonitoring,\n\t[\"chemical industry\"] = enableChemicalMonitoring,\n\t[\"electronics industry\"] = enableElectronicsMonitoring,\n\t[\"metalwork industry\"] = enableMetalworkMonitoring\n}\n\nfunction initializeSlots()\n\tfor slot_name, slot in pairs(unit) do\n\t\tif type(slot) == \"table\" and type(slot.export) == \"table\" and slot.getElementClass then\n\t\t\tlocal elementClass = slot.getElementClass():lower()\n\t\t\tif elementClass:find(\"coreunit\") then\n\t\t\t\tcore = slot\n\t\t\telseif elementClass == \"screenunit\" then\n\t\t\t\tscreens[#screens + 1] = {\n\t\t\t\t\telement = slot,\n\t\t\t\t\tid = slot.getId(),\n\t\t\t\t\tslotName = slot_name\n\t\t\t\t}\n\t\t\telseif elementClass == \"databankunit\" then\n\t\t\t\tdatabanks[#databanks + 1] = {\n\t\t\t\t\telement = slot,\n\t\t\t\t\tid = slot.getId(),\n\t\t\t\t\tslotName = slot_name\n\t\t\t\t}\n\t\t\tend\n\t\tend\n\tend\nend\n\nfunction getMainScreen()\n\tfor i, screen in pairs(screens) do\n\t\tif screen.slotName == mainScreenSlotName then\n\t\t\treturn screen\n\t\tend\n\tend\n\n\tfor i, screen in pairs(screens) do\n\t\tif screen.slotName ~= summaryScreenSlotName then\n\t\t\tif #screens > 1 then\n\t\t\t\ttable.insert(warnings, [[There is more than one screen connected to the programming board and a name is not configured for the main screen. The \"Industry Status\" script will use the screen connected to the slot named \"]] .. screen.slotName .. [[\" as the main screen.]])\n\t\t\tend\n\t\t\treturn screen\n\t\tend\n\tend\n\n\treturn false\nend\n\nfunction getSummaryScreen(mainScreen)\n\tfor i, screen in pairs(screens) do\n\t\tif screen.slotName == summaryScreenSlotName then\n\t\t\treturn screen\n\t\tend\n\tend\n\n\tfor i, screen in pairs(screens) do\n\t\tif screen.slotName ~= mainScreenSlotName and screen ~= mainScreen then\n\t\t\tif #screens > 1 then\n\t\t\t\ttable.insert(warnings, [[There is more than one screen connected to the programming board and a name is not configured for the summary screen. The \"Industry Status\" script will use the screen connected to the slot named \"]] .. screen.slotName .. [[\" as the summary screen.]])\n\t\t\tend\n\t\t\treturn screen\n\t\tend\n\tend\n\n\treturn false\nend\n\nfunction getDatabank()\n\tfor i, databank in pairs(databanks) do\n\t\tif databank.slotName == databankSlotName then\n\t\t\treturn databank\n\t\tend\n\tend\n\n\tif #databanks > 0 then\n\t\tif #databanks > 1 then\n\t\t\ttable.insert(warnings, [[There is more than one databank connected to the programming board. The \"Industry Status\" script will use the databank connected to the slot named \"]] .. databanks[1].slotName .. [[\"]])\n\t\tend\n\t\treturn databanks[1]\n\tend\n\n\treturn false\nend\n\nfunction normalizeType(typeName)\n\tlocal type = typeName:lower()\n\treturn type:gsub('basic ', ''):gsub('uncommon ', ''):gsub('advanced ', ''):gsub('rare ', ''):gsub('exotic ', '')\nend\n\nfunction isIndustryEnabled(typeName)\n\tif types[typeName] then return true else return false end\nend\n\nfunction compareElements(l, r)\n\tif l.status:lower() < r.status:lower() then return true end\n\tif l.status:lower() > r.status:lower() then return false end\n\treturn l.schematic:lower() < r.schematic:lower()\nend\n\nfunction compareTypes(l, r)\n\treturn l.actualType:lower() < r.actualType:lower()\nend\n\nfunction SecondsToClock(seconds)\n\tlocal seconds = tonumber(seconds)\n\n\tif seconds <= 0 then\n\t\treturn \"00:00:00\"\n\telse\n\t\tlocal hours = string.format(\"%02.f\", math.floor(seconds/3600))\n\t\tlocal mins = string.format(\"%02.f\", math.floor(seconds/60 - (hours*60)))\n\t\tsecs = string.format(\"%02.f\", math.floor(seconds - hours*3600 - mins *60))\n\t\treturn hours..\":\"..mins..\":\"..secs\n\tend\nend\n\nfunction updateElements()\n\telements = {}\n\ttotals = {}\n\tlocal totalKeys = {}\n\tlocal elementIds = core.getElementIdList()\n\n\tfor _, id in ipairs(elementIds) do\n\t\tlocal actualType = core.getElementTypeById(id)\n\t\tif actualType == nil then actualType = \"\" end\n\n\t\tlocal type = normalizeType(actualType)\n\t\tif isIndustryEnabled(type) then\n\t\t\tif totalKeys[actualType] == nil then\n\t\t\t\ttotalKeys[actualType] = #totals + 1\n\t\t\t\ttotals[totalKeys[actualType]] = {\n\t\t\t\t\t[\"actualType\"] = actualType,\n\t\t\t\t\t[\"total\"] = 0,\n\t\t\t\t\t[\"errors\"] = 0,\n\t\t\t\t\t[\"stopped\"] = 0\n\t\t\t\t}\n\t\t\tend\n\t\t\ttotals[totalKeys[actualType]].total = totals[totalKeys[actualType]].total + 1\n\n\t\t\tlocal name = core.getElementNameById(id)\n\t\t\tlocal eJson = core.getElementIndustryStatus(id)\n\t\t\tif eJson == nil then eJson = \"\" end\nsystem.print(eJson)\n\n\n\t\t\tlocal state = eJson:match([[\"state\":\"([^\"]*)\"]]):gsub([[_]],\" \")\n\t\t\tif state == nil then state = \"\" end\n\n\t\t\tif not displayPending and state == \"PENDING\" then goto continue end\n\t\t\tif not displayRunning and state == \"RUNNING\" then goto continue end\n\t\t\tif state:match('STOPPED') then\n\t\t\t\tif not displayStopped then\n\t\t\t\t\tgoto continue\n\t\t\t\telse\n\t\t\t\t\ttotals[totalKeys[actualType]].stopped = totals[totalKeys[actualType]].stopped + 1\n\t\t\t\tend\n\t\t\tend\n\t\t\tif state:match('JAMMED') then\n\t\t\t\tif not displayErrored then\n\t\t\t\t\tgoto continue\n\t\t\t\telse\n\t\t\t\t\ttotals[totalKeys[actualType]].errors = totals[totalKeys[actualType]].errors + 1\n\t\t\t\tend\n\t\t\tend\n\t\t\tlocal remaining = eJson:match('\"batchesRemaining\":(%d+),')\n\t\t\tif remaining == nil then remaining = \"\" end\n\n\t\t\tlocal requested = eJson:match('\"batchesRequested\":(%d+),')\n\t\t\tif requested == nil then requested = \"\" end\n\n\t\t\tlocal current = eJson:match('\"currentProductAmount\":(%d+),')\n\t\t\tif current == nil then current = \"\" end\n\n\t\t\tlocal maintain = eJson:match('\"maintainProductAmount\":(%d+),')\n\t\t\tif maintain == nil then maintain = \"\" end\n\n\t\t\tlocal remainingTime = eJson:match('\"remainingTime\":(%d+),')\n\t\t\tif remainingTime == nil then remainingTime = \"\" end\n\n\t\t\tlocal stopRequested = eJson:match('\"stopRequested\":(true),')\n\t\t\tif stopRequested == nil then stopRequested = \"\" else stopRequested = \"STOPPING\" end\n\n\t\t\tlocal schematicId = eJson:match([[\"schematicId\":([%d%.]*)]])\n\t\t\tlocal schematic = \"UNKNOWN\"\n\t\t\tif schematicId == \"0\" then\n\t\t\t\tschematic = \"NONE\"\n\t\t\telse\n\t\t\t\tlocal sJson = core.getSchematicInfo(schematicId)\n\t\t\t\tif sJson == nil then sJson = \"\" end\n\t\t\t\tschematic = sJson:match('\"products\":%[{\"name\":\"([^\"]*)\"')\n\t\t\t\tif schematic == nil then schematic = \"UNKNOWN\" end\n\t\t\t\tif schematic == \"UNKNOWN\" and not enableMissingSchematic then goto continue end\t\t\t\n\t\t\tend\n\n\t\t\ttable.insert(elements, {\n\t\t\t\t[\"id\"] = id,\n\t\t\t\t[\"name\"] = name,\n\t\t\t\t[\"actualType\"] = actualType,\n\t\t\t\t[\"status\"] = state,\n\t\t\t\t[\"stopping\"] = stopRequested,\n\t\t\t\t[\"schematic\"] = schematic,\n\t\t\t\t[\"remaining\"] = remaining,\n\t\t\t\t[\"requested\"] = requested,\n\t\t\t\t[\"current\"] = current,\n\t\t\t\t[\"maintain\"] = maintain,\n\t\t\t\t[\"remainingTime\"] = remainingTime\n\t\t\t})\n\t\t\t::continue::\n\t\tend\n\tend\n\n\tif enableSorting then\n\t\ttable.sort(elements, compareElements)\n\t\ttable.sort(totals, compareTypes)\n\tend\nend\n\nfunction getContainerOrientation()\n\tlocal html = \"\"\n\tif not landscapeMode then\n\t\thtml = [[\n.container{\n\twidth:100vh;\n\theight:100vw;\n\ttransform:rotate(-90deg);\n\ttransform-origin:0% 0%;\n\tmargin-top:100vh;\n\tbackground:]] .. backgroundColor .. [[;\n}]]\n\telse\n\t\thtml = [[\n.container{\n\twidth:100vw;\n\theight:100vh;\n\tbackground:]] .. backgroundColor .. [[;\n}]]\n\tend\n\n\treturn html\nend\n\nfunction updateScreen()\n\tlocal html = \"<style>\" .. getContainerOrientation()\n\thtml = html .. [[\n.row{\n\tfont-family=\"Arial\";\n\tfont-size:1.8em;\n\ttext-align:left;\n\tborder-bottom:1px solid ]] .. borderColor .. [[;\n}\n.col {\n    text-align: left;\n}\n.details {\n    table-layout: fixed;\n    width: 100%;\n}\n.errorColor{\n\tcolor:]] .. errorColor .. [[;\n}\n.stoppedColor{\n\tcolor:]] .. stoppedColor .. [[;\n}\n.pendingColor{\n\tcolor:]] .. pendingColor .. [[;\n}\n.runningColor{\n\tcolor:]] .. runningColor .. [[;\n}\n.headerColor{\n\tcolor:]] .. headerColor .. [[;\n}\n.header{\n\tfont-family=\"Arial\";\n\tfont-size:4em;\n\ttext-align:center;\n\tborder-bottom:1px solid ]] .. borderColor .. [[;\n}\ntr > * + * {\n  padding-left: 1em;\n}\n</style>\n<div class=\"container\">\n<div class=\"header headerColor\">Industry Status (v]] .. version .. [[)</div>\n<table class=\"\">\n<thead>\n\t<tr class=\"row headerColor\">\n]]\n\n\tif showId then html = html .. \"<th>Id</th>\" end\n\tif showName then html = html .. \"<th>Name</th>\" end\n\tif showType then html = html .. \"<th>Type</th>\" end\n\tif showSchematic then html = html .. \"<th>Schematic</th>\" end\n\thtml = html .. \"<th>Status</th>\"\n\tif showStopping then html = html .. \"<th>Stopping</th>\" end\n\tif showLevels then html = html .. \"<th>Requested</th><th>Remaining</th><th>Time Left</th>\" end\n\n\thtml = html .. [[\n\t</tr>\n</thead>\n<tbody>]]\n\n\tfor machine = mainScreenRow + 1, #elements do\n\t\tlocal color = \"errorColor\"\n\t\tif elements[machine][\"status\"] == \"STOPPED\" then\n\t\t\tcolor = \"stoppedColor\"\n\t\telseif elements[machine][\"status\"] == \"RUNNING\" then\n\t\t\tcolor = \"runningColor\"\n\t\telseif elements[machine][\"status\"] == \"PENDING\" then\n\t\t\tcolor = \"pendingColor\"\n\t\tend\n\n\t\thtml = html .. [[<tr class=\"row ]].. color ..[[\">]]\n\n\t\tif showId then html = html .. [[<th scope=\"col\">]] .. elements[machine][\"id\"] .. [[</th>]] end\n\t\tif showName then html = html .. [[<th scope=\"col\">]] .. elements[machine][\"name\"] .. [[</th>]] end\n\t\tif showType then html = html .. [[<th scope=\"col\">]] .. elements[machine][\"actualType\"] .. [[</th>]] end\n\t\tif showSchematic then html = html .. [[<th scope=\"col\">]] .. elements[machine][\"schematic\"] .. [[</th>]] end\n\t\thtml = html .. [[<th scope=\"col\">]] .. elements[machine][\"status\"] .. [[</th>]]\n\t\tif showStopping then html = html .. [[<th scope=\"col\">]] .. elements[machine][\"stopping\"] .. [[</th>]] end\n\t\tif showLevels and elements[machine][\"status\"] == \"RUNNING\" then\n\t\t\tif tonumber(elements[machine][\"requested\"]) > 0 then\n\t\t\t\thtml = html .. [[<th scope=\"col\">]] .. elements[machine][\"requested\"] .. [[</th>]]\n\t\t\t\thtml = html .. [[<th scope=\"col\">]] .. elements[machine][\"remaining\"] .. [[</th>]]\n\t\t\telseif tonumber(elements[machine][\"maintain\"]) > 0 then\n\t\t\t\thtml = html .. [[<th scope=\"col\">]] .. elements[machine][\"maintain\"] .. [[</th>]]\n\t\t\t\thtml = html .. [[<th scope=\"col\">]] .. tonumber(elements[machine][\"maintain\"]) - tonumber(elements[machine][\"current\"]) .. [[</th>]]\n\t\t\telse\n\t\t\t\thtml = html .. [[<th scope=\"col\"></th>]]\n\t\t\t\thtml = html .. [[<th scope=\"col\"></th>]]\n\t\t\tend\n\t\t\tif elements[machine][\"remainingTime\"] == \"\" then\n\t\t\t\thtml = html .. [[<th scope=\"col\"></th>]]\n\t\t\telse\n\t\t\t\thtml = html .. [[<th scope=\"col\">]] .. SecondsToClock(elements[machine][\"remainingTime\"]) .. [[</th>]]\n\t\t\tend\n\t\telse\n\t\t\thtml = html .. [[<th scope=\"col\"></th><th scope=\"col\"></th><th scope=\"col\"></th>]]\n\t\tend\n\t\thtml = html .. [[</tr>]]\n\tend\n\n\thtml = html .. [[</tbody></table></div>]]\n\tmainScreen.element.setHTML(html)\nend\n\nfunction updateSummary()\n\tlocal html = \"<style>\" .. getContainerOrientation()\n\thtml = html .. [[.row{\n\tfont-family=\"Arial\";\n\tfont-size:2.8em;\n\ttext-align:left;\n\tborder-bottom:1px solid ]] .. borderColor .. [[;\n}\n.col {\n    text-align: left;\n}\n.headerColor{\n\tcolor:]] .. headerColor .. [[;\n}\n.header{\n\tfont-family=\"Arial\";\n\tfont-size:4em;\n\ttext-align:center;\n}\n</style>\n<div class=\"container\">\n<div class=\"header headerColor\">Industry Summary (v]] .. version .. [[)</div>\n<table class=\"\">\n<thead>\n\t<tr class=\"row headerColor\">\n\t\t<th>Industry Type</th>\n\t\t<th>Machines&nbsp;&nbsp;</th>\n\t\t<th>Errors&nbsp;&nbsp;</th>\n\t\t<th>Stopped</th>\n\t</tr>\n</thead>\n<tbody>]]\n\n\tfor machine = summaryScreenRow + 1, #totals do\n\t\thtml = html .. [[<tr class=\"row\">]]\n\t\thtml = html .. [[<th scope=\"col\">]] .. totals[machine].actualType .. [[</th>]]\n\t\thtml = html .. [[<th scope=\"col\">]] .. totals[machine].total .. [[</th>]]\n\t\thtml = html .. [[<th scope=\"col\">]] .. totals[machine].errors .. [[</th>]]\n\t\thtml = html .. [[<th scope=\"col\">]] .. totals[machine].stopped .. [[</th>]]\n\t\thtml = html .. [[</tr>]]\n     end\n\n\thtml = html .. [[</tbody></table></div>]]\n\tsummaryScreen.element.setHTML(html)\nend\n\nfunction printWarning()\n\tlocal html = \"<style>\" .. getContainerOrientation()\n\thtml = html .. [[\n.headerColor{\n\tcolor:]] .. headerColor .. [[;\n}\n.header{\n\tfont-family=\"Arial\";\n\tfont-size:4em;\n\ttext-align:center;\n}\n.warningColor{\n\tcolor:]] .. warningColor .. [[;\n}\n.warning {\n\tfont-family=\"Arial\";\n\tfont-size:4em;\n\tmargin-top:3em;\n\ttext-align:center;\n}\n.buttonColor{\n\tbackground-color:]] .. buttonColor .. [[;\n\tcolor:]] .. buttonText .. [[;\n}\n.button {\n\tfont-family=\"Arial\";\n\tfont-size:4em;\n\ttext-align:center;\n\tpadding:.25em .5em .25em .5em;\n\tborder-radius:1em;\n\tposition:absolute;\n\tbottom:.5em;\n\tleft:50%;\n\t-webkit-transform: translate(-50%, -50%);\n\ttransform: translate(-50%, -50%);\n}\n</style>]]\n\n\thtml = html .. [[\n<div class=\"container\">\n\t<div class=\"header headerColor\">Industry Status (v]] .. version .. [[)</div>\n\t<div class=\"warning warningColor\">]] .. warnings[1] .. [[</div>\n\t<div class=\"button buttonColor\">OK</div>\n</div>]]\n\n\tmainScreen.element.setHTML(html)\nend\n\nfunction toboolean(v)\nreturn v == \"true\"\nend\n\nfunction getParameters()\n    if databank.element.hasKey(\"enableRefinerMonitoring\") then enableRefinerMonitoring = toboolean(databank.element.getStringValue(\"enableRefinerMonitoring\")) end\n    if databank.element.hasKey(\"enableAssemblyMonitoring\") then enableAssemblyMonitoring = toboolean(databank.element.getStringValue(\"enableAssemblyMonitoring\")) end\n    if databank.element.hasKey(\"enableSmelterMonitoring\") then enableSmelterMonitoring = toboolean(databank.element.getStringValue(\"enableSmelterMonitoring\")) end\n    if databank.element.hasKey(\"enableChemicalMonitoring\") then enableChemicalMonitoring = toboolean(databank.element.getStringValue(\"enableChemicalMonitoring\")) end\n    if databank.element.hasKey(\"enableElectronicsMonitoring\") then enableElectronicsMonitoring = toboolean(databank.element.getStringValue(\"enableElectronicsMonitoring\")) end\n    if databank.element.hasKey(\"enableGlassMonitoring\") then enableGlassMonitoring = toboolean(databank.element.getStringValue(\"enableGlassMonitoring\")) end\n    if databank.element.hasKey(\"enableHoneycombMonitoring\") then enableHoneycombMonitoring = toboolean(databank.element.getStringValue(\"enableHoneycombMonitoring\")) end\n    if databank.element.hasKey(\"enableRecyclerMonitoring\") then enableRecyclerMonitoring = toboolean(databank.element.getStringValue(\"enableRecyclerMonitoring\")) end\n    if databank.element.hasKey(\"enableMetalworkMonitoring\") then enableMetalworkMonitoring = toboolean(databank.element.getStringValue(\"enableMetalworkMonitoring\")) end\n    if databank.element.hasKey(\"enable3DPrinterMonitoring\") then enable3DPrinterMonitoring = toboolean(databank.element.getStringValue(\"enable3DPrinterMonitoring\")) end\n    if databank.element.hasKey(\"enableTransferMonitoring\") then enableTransferMonitoring = toboolean(databank.element.getStringValue(\"enableTransferMonitoring\")) end\n    if databank.element.hasKey(\"enableMissingSchematic\") then enableMissingSchematic = toboolean(databank.element.getStringValue(\"enableMissingSchematic\")) end\n    if databank.element.hasKey(\"enableSorting\") then enableSorting = toboolean(databank.element.getStringValue(\"enableSorting\")) end\n    if databank.element.hasKey(\"displayRunning\") then displayRunning = toboolean(databank.element.getStringValue(\"displayRunning\")) end\n    if databank.element.hasKey(\"displayPending\") then displayPending = toboolean(databank.element.getStringValue(\"displayPending\")) end\n    if databank.element.hasKey(\"displayStopped\") then displayStopped = toboolean(databank.element.getStringValue(\"displayStopped\")) end\n    if databank.element.hasKey(\"displayErrored\") then displayErrored = toboolean(databank.element.getStringValue(\"displayErrored\")) end\n    if databank.element.hasKey(\"deactivateScreens\") then deactivateScreens = toboolean(databank.element.getStringValue(\"deactivateScreens\")) end\n    if databank.element.hasKey(\"screenRefreshRate\") then screenRefreshRate = databank.element.getIntValue(\"screenRefreshRate\") end\n    if databank.element.hasKey(\"industryRefreshRate\") then industryRefreshRate = databank.element.getIntValue(\"industryRefreshRate\") end\n    if databank.element.hasKey(\"mainScreenSlotName\") then mainScreenSlotName = databank.element.getStringValue(\"mainScreenSlotName\") end\n    if databank.element.hasKey(\"summaryScreenSlotName\") then summaryScreenSlotName = databank.element.getStringValue(\"summaryScreenSlotName\") end\n    if databank.element.hasKey(\"showId\") then showId = toboolean(databank.element.getStringValue(\"showId\")) end\n    if databank.element.hasKey(\"showName\") then showName = toboolean(databank.element.getStringValue(\"showName\")) end\n    if databank.element.hasKey(\"showType\") then showType = toboolean(databank.element.getStringValue(\"showType\")) end\n    if databank.element.hasKey(\"showSchematic\") then showSchematic = toboolean(databank.element.getStringValue(\"showSchematic\")) end\n    if databank.element.hasKey(\"showLevels\") then showLevels = toboolean(databank.element.getStringValue(\"showLevels\")) end\n    if databank.element.hasKey(\"showStopping\") then showStopping = toboolean(databank.element.getStringValue(\"showStopping\")) end\n    if databank.element.hasKey(\"landscapeMode\") then landscapeMode = toboolean(databank.element.getStringValue(\"landscapeMode\")) end\n    if databank.element.hasKey(\"headerColor\") then headerColor = databank.element.getStringValue(\"headerColor\") end\n    if databank.element.hasKey(\"warningColor\") then warningColor = databank.element.getStringValue(\"warningColor\") end\n    if databank.element.hasKey(\"buttonText\") then buttonText = databank.element.getStringValue(\"buttonText\") end\n    if databank.element.hasKey(\"buttonColor\") then buttonColor = databank.element.getStringValue(\"buttonColor\") end\n    if databank.element.hasKey(\"errorColor\") then errorColor = databank.element.getStringValue(\"errorColor\") end\n    if databank.element.hasKey(\"stoppedColor\") then stoppedColor = databank.element.getStringValue(\"stoppedColor\") end\n    if databank.element.hasKey(\"pendingColor\") then pendingColor = databank.element.getStringValue(\"pendingColor\") end\n    if databank.element.hasKey(\"runningColor\") then runningColor = databank.element.getStringValue(\"runningColor\") end\n    if databank.element.hasKey(\"backgroundColor\") then backgroundColor = databank.element.getStringValue(\"backgroundColor\") end\n    if databank.element.hasKey(\"borderColor\") then borderColor = databank.element.getStringValue(\"borderColor\") end\nend\n\nfunction setParameters()\n    databank.element.setStringValue(\"enableRefinerMonitoring\", tostring(enableRefinerMonitoring))\t\n    databank.element.setStringValue(\"enableAssemblyMonitoring\", tostring(enableAssemblyMonitoring))\n    databank.element.setStringValue(\"enableSmelterMonitoring\", tostring(enableSmelterMonitoring))\n    databank.element.setStringValue(\"enableChemicalMonitoring\", tostring(enableChemicalMonitoring))\n    databank.element.setStringValue(\"enableElectronicsMonitoring\", tostring(enableElectronicsMonitoring))\n    databank.element.setStringValue(\"enableGlassMonitoring\", tostring(enableGlassMonitoring))\n    databank.element.setStringValue(\"enableHoneycombMonitoring\", tostring(enableHoneycombMonitoring))\n    databank.element.setStringValue(\"enableRecyclerMonitoring\", tostring(enableRecyclerMonitoring))\n    databank.element.setStringValue(\"enableMetalworkMonitoring\", tostring(enableMetalworkMonitoring))\n    databank.element.setStringValue(\"enable3DPrinterMonitoring\", tostring(enable3DPrinterMonitoring))\n    databank.element.setStringValue(\"enableTransferMonitoring\", tostring(enableTransferMonitoring))\n    databank.element.setStringValue(\"enableMissingSchematic\", tostring(enableMissingSchematic))\n    databank.element.setStringValue(\"enableSorting\", tostring(enableSorting))\n    databank.element.setStringValue(\"displayRunning\", tostring(displayRunning))\n    databank.element.setStringValue(\"displayPending\", tostring(displayPending))\n    databank.element.setStringValue(\"displayStopped\", tostring(displayStopped))\n    databank.element.setStringValue(\"displayErrored\", tostring(displayErrored))\n    databank.element.setStringValue(\"deactivateScreens\", tostring(deactivateScreens))\n    databank.element.setIntValue(\"screenRefreshRate\", screenRefreshRate)\n    databank.element.setIntValue(\"industryRefreshRate\", industryRefreshRate)\n    databank.element.setStringValue(\"mainScreenSlotName\", mainScreenSlotName)\n    databank.element.setStringValue(\"summaryScreenSlotName\", summaryScreenSlotName)\n    databank.element.setStringValue(\"showId\", tostring(showId))\n    databank.element.setStringValue(\"showName\", tostring(showName))\n    databank.element.setStringValue(\"showType\", tostring(showType))\n    databank.element.setStringValue(\"showSchematic\", tostring(showSchematic))\n    databank.element.setStringValue(\"showLevels\", tostring(showLevels))\n    databank.element.setStringValue(\"showStopping\", tostring(showStopping))\n    databank.element.setStringValue(\"landscapeMode\", tostring(landscapeMode))\n    databank.element.setStringValue(\"headerColor\", headerColor)\n    databank.element.setStringValue(\"warningColor\", warningColor)\n    databank.element.setStringValue(\"buttonText\", buttonText)\n    databank.element.setStringValue(\"buttonColor\", buttonColor)\n    databank.element.setStringValue(\"errorColor\", errorColor)\n    databank.element.setStringValue(\"stoppedColor\", stoppedColor)\n    databank.element.setStringValue(\"pendingColor\", pendingColor)\n    databank.element.setStringValue(\"runningColor\", runningColor)\n    databank.element.setStringValue(\"backgroundColor\", backgroundColor)\n    databank.element.setStringValue(\"borderColor\", borderColor)\nend\n\ninitializeSlots()\ndatabank = getDatabank()\nif clearDatabank and databank ~= false then\n    databank.element.clear()\nend\nif not overrideDatabank and databank ~= false then\n    getParameters()\nend\nmainScreen = getMainScreen()\nsummaryScreen = getSummaryScreen(mainScreen)\n\nif core ~= false and mainScreen ~= false then\n\tupdateElements()\n\n\tif #warnings > 0 then\n\t\tprintWarning()\n\telse\n\t\tupdateScreen()\n\t\tif summaryScreen ~= false then updateSummary() end\n\tend\n\n\tmainScreen.element.activate()\n\tif summaryScreen ~= false then summaryScreen.element.activate() end\n\n\tunit.setTimer(\"ReadMouse\")\n\tif screenRefreshRate > 0 then\n\t\tunit.setTimer(\"UpdateScreen\", screenRefreshRate)\n\telse\n\t\tunit.setTimer(\"UpdateScreen\")\n\tend\n\tif industryRefreshRate > 0 then\n\t\tunit.setTimer(\"UpdateElements\", industryRefreshRate)\n\telse\n\t\tunit.setTimer(\"UpdateElements\")\n\tend\nend",
      "filter": {
        "args": [],
        "signature": "start()",
        "slotKey": "-1"
      },
      "key": "0"
    },
    {
      "code": "if mainScreen ~= false then\n\t-- Detect Interaction and Update Backend\n\tlocal currentY = 100 * mainScreen.element.getMouseY()\n\tlocal currentX = 100 * mainScreen.element.getMouseX()\n\n\t-- Browser Scroll\n\tif (currentY > 5) then\n\t\tlocal wheel = system.getMouseWheel()\n\t\tif wheel ~= 0 then\n\t\t\tlocal adjusted = math.floor(math.max(math.min(wheel, 1), -1) + 0.5)\n\t\t\tlocal rawIndex = mainScreenRow - (adjusted * 4)\n\t\t\tmainScreenRow = math.max(math.min(rawIndex, #elements - 1), 0)\n\t\tend\n\tend\n\n\tif (currentX > 45 and currentX < 55 and currentY > 80 and currentY < 90) then\n\t\tlocal newState = mainScreen.element.getMouseState()\n\t\tif mouseState == 1 and newState == 0 then\n\t\t\tmouseClicked = true\n\t\tend\n\t\tmouseState = newState\n\tend\nend\nif summaryScreen ~= false then\n\t-- Detect Interaction and Update Backend\n\tlocal currentY = 100 * summaryScreen.element.getMouseY()\n\n\t-- Browser Scroll\n\tif (currentY > 5) then\n\t\tlocal currentX = 100 * summaryScreen.element.getMouseX()\n\t\tlocal wheel = system.getMouseWheel()\n\t\tif wheel ~= 0 then\n\t\t\tlocal adjusted = math.floor(math.max(math.min(wheel, 1), -1) + 0.5)\n\t\t\tlocal rawIndex = summaryScreenRow - (adjusted * 4)\n\t\t\tsummaryScreenRow = math.max(math.min(rawIndex, #totals - 1), 0)\n\t\tend\n\tend\nend",
      "filter": {
        "args": [
          {
            "value": "ReadMouse"
          }
        ],
        "signature": "tick(timerId)",
        "slotKey": "-1"
      },
      "key": "1"
    },
    {
      "code": "if deactivateScreens then\n    if mainScreen ~= false then mainScreen.element.deactivate() end\n    if summaryScreen ~= false then summaryScreen.element.deactivate() end\nend\n\nif databank ~= false then\n    setParameters()\nend",
      "filter": {
        "args": [],
        "signature": "stop()",
        "slotKey": "-1"
      },
      "key": "2"
    },
    {
      "code": "if mouseClicked then\n    table.remove(warnings, 1)\n    mouseClicked = false\nend\n\nif #warnings > 0 then\n\tprintWarning()\nelse\n\tupdateScreen()\nend\n\nif summaryScreen ~= false then\n\tupdateSummary()\nend",
      "filter": {
        "args": [
          {
            "value": "UpdateScreen"
          }
        ],
        "signature": "tick(timerId)",
        "slotKey": "-1"
      },
      "key": "3"
    },
    {
      "code": "updateElements()",
      "filter": {
        "args": [
          {
            "value": "UpdateElements"
          }
        ],
        "signature": "tick(timerId)",
        "slotKey": "-1"
      },
      "key": "4"
    }
  ],
  "methods": [],
  "events": []
}
```
